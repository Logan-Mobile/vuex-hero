/*!
 * vuex-proxy v1.0.0
 * (c) 2021 Logan
 * @license MIT
 */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a="undefined"==typeof globalThis?a||self:globalThis,b(a.VuexHero={}))})(this,function(a){'use strict';function b(){return b=Object.assign||function(a){for(var b,c=arguments,d=1;d<arguments.length;d++)for(var e in b=c[d],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},b.apply(this,arguments)}function c(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,e(a,b)}function d(a){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},d(a)}function e(a,b){return e=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},e(a,b)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function g(){return g=f()?Reflect.construct:function(b,c,d){var f=[null];f.push.apply(f,c);var a=Function.bind.apply(b,f),g=new a;return d&&e(g,d.prototype),g},g.apply(null,arguments)}function i(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function j(a){var b="function"==typeof Map?new Map:void 0;return j=function(a){function c(){return g(a,arguments,d(this).constructor)}if(null===a||!i(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),e(c,a)},j(a)}function k(a){if(!a||!a.length)return null;var b={};return a.forEach(function(a){var c=a.field;b[c]=b[c]||[],b[c].push(a)}),b}function l(){for(var a=arguments,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=a[d];var e=1,g=c[0],f=c.length;if("function"==typeof g)return g.apply(null,c.slice(1));if("string"==typeof g){var h=(g+"").replace(V,function(a){if("%%"===a)return"%";if(e>=f)return a;switch(a){case"%s":return c[e++]+"";case"%d":return+c[e++];case"%j":try{return JSON.stringify(c[e++])}catch(a){return"[Circular]"}break;default:return a;}});return h}return g}function m(a){return"string"===a||"url"===a||"hex"===a||"email"===a||"date"===a||"pattern"===a}function n(a,b){return!(void 0!==a&&null!==a)||!("array"!==b||!Array.isArray(a)||a.length)||!(!m(b)||"string"!=typeof a||a)}function o(a,b,c){function d(a){e.push.apply(e,a),f++,f===g&&c(e)}var e=[],f=0,g=a.length;a.forEach(function(c){b(c,d)})}function p(a,b,c){function d(g){if(g&&g.length)return void c(g);var h=e;++e,h<f?b(a[h],d):c([])}var e=0,f=a.length;d([])}function q(a){var b=[];return Object.keys(a).forEach(function(c){b.push.apply(b,a[c])}),b}function r(a,b,c,d){if(b.first){var e=new Promise(function(b,e){var f=q(a);p(f,c,function(a){return d(a),a.length?e(new X(a,k(a))):b()})});return e["catch"](function(a){return a}),e}var f=b.firstFields||[];!0===f&&(f=Object.keys(a));var g=Object.keys(a),h=g.length,i=0,j=[],l=new Promise(function(b,e){var l=function(a){if(j.push.apply(j,a),i++,i===h)return d(j),j.length?e(new X(j,k(j))):b()};g.length||(d(j),b()),g.forEach(function(b){var d=a[b];-1===f.indexOf(b)?o(d,c,l):p(d,c,l)})});return l["catch"](function(a){return a}),l}function s(a){return function(b){return b&&b.message?(b.field=b.field||a.fullField,b):{message:"function"==typeof b?b():b,field:b.field||a.fullField}}}function t(a,c){if(c)for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];a[d]="object"==typeof e&&"object"==typeof a[d]?b({},a[d],e):e}return a}function u(a,b,c,d,e,f){a.required&&(!c.hasOwnProperty(a.field)||n(b,f||a.type))&&d.push(l(e.messages.required,a.fullField))}function v(a,b,c,d,e){var f=a.type,g=[],h=a.required||!a.required&&d.hasOwnProperty(a.field);if(h){if(n(b,f)&&!a.required)return c();$.required(a,b,d,g,e,f),n(b,f)||$.type(a,b,d,g,e)}c(g)}function w(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var a=JSON.parse(JSON.stringify(this));return a.clone=this.clone,a}}}function x(a){this.rules=null,this._messages=aa,this.define(a)}function y(a){return C(a)||B(a)||A(a)||z()}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(a,b){if(a){if("string"==typeof a)return D(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?D(a,b):void 0}}function B(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function C(a){if(Array.isArray(a))return D(a)}function D(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function E(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function F(a){for(var b,c=arguments,d=1;d<arguments.length;d++)b=null==c[d]?{}:c[d],d%2?E(Object(b),!0).forEach(function(c){G(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):E(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function G(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function H(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function I(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function J(a,b,c){return b&&I(a.prototype,b),c&&I(a,c),a}function K(a,b){var c=O(a,b,"get");return L(a,c)}function L(a,b){return b.get?b.get.call(a):b.value}function M(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}function N(a,b,c){var d=O(a,b,"set");return P(a,d,c),c}function O(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function P(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function Q(a,b){var c=R(a);c.push(b),ca.set(a,c)}function R(a){return ca.has(a)?ca.get(a):[]}function S(a){return"string"==typeof a?a.includes(".")?function(b,c){return a.split(".").reduce(function(a,b){return a[b]},c)}:function(b){return b[a]}:a}function T(a){if("function"==typeof a)return a;return function(b,c){new x({value:a}).validate({value:b},{suppressWarning:!0},function(a){var b="";a&&(b=a[0].message),c(b)})}}function U(a,b){function c(a){var b=this,c=a.state;Object.keys(c).forEach(function(a){c[a]instanceof da?(b.state[a]=c[a]._initValue,K(b,i)[a]=R(c[a])):b.state[a]=c[a]}),N(this,f,F(F({},a),{},{state:this.state,modules:void 0}));var d=a.modules||{};Object.keys(d).forEach(function(a){var c=new m([].concat(y(K(b,g)),[a]),d[a]);K(b,j).push(c),b[a]=c,d[a].state=c.state})}function d(){var a=this;setTimeout(function(){Object.keys(K(a,i)).forEach(function(b){var c=function(c){a.state[b]=c},d=a.store.state;K(a,i)[b].forEach(function(f){var g=f.getter,i=void 0===g?function(a){return a[b]}:g,j=f.callBack,k=f.options;if(k.isLoad)return void j(a.state,d,c);k.isValidation&&(!K(a,e)[k.formName]&&(K(a,e)[k.formName]={}),K(a,e)[k.formName][b]={getter:i,callBack:j});var l=a.store.watch(function(){return i(a.state,d)},function(b,e){var f=function(){k.isValidation?j(b,c,a.state,d,l):j(b,e,c,a.state,d,l)};l?f():setTimeout(function(){f()},0)},k);K(a,h).push(l)})})},0)}if(!ba)throw new Error("\u8BF7\u5148\u8C03\u7528'createVuexHero'\u65B9\u6CD5");var e=new WeakMap,f=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakSet,l=new WeakSet,m=function(){function a(b,d){H(this,a),l.add(this),k.add(this),e.set(this,{writable:!0,value:{}}),f.set(this,{writable:!0,value:{}}),g.set(this,{writable:!0,value:""}),h.set(this,{writable:!0,value:[]}),i.set(this,{writable:!0,value:{}}),j.set(this,{writable:!0,value:[]}),N(this,g,Array.isArray(b)?b:b.split(".")),this.state={},M(this,k,c).call(this,d)}return J(a,[{key:"store",get:function(){return ba}},{key:"registerModule",value:function(a){var b=this,c=function(){b.store.registerModule(K(b,g),K(b,f)),M(b,l,d).call(b),K(b,j).forEach(function(b){return b.registerModule(a)})};return a?(this.unregisterModule(),c()):!this.store.hasModule(K(this,g))&&c(),this}},{key:"unregisterModule",value:function(){return this.store.hasModule(K(this,g))&&(K(this,j).forEach(function(a){return a.unregisterModule()}),K(this,h).forEach(function(a){a()}),this.store.unregisterModule(K(this,g))),this}},{key:"validate",value:function(a,b){var c=this;"function"==typeof a&&(b=a,a=null);var d=[];Object.keys(K(this,e)).forEach(function(b){if(!(a&&b!==a)){var f=K(c,e)[b];Object.keys(f).forEach(function(a){var b=f[a],e=b.getter,g=b.callBack;d.push(new Promise(function(b,d){g(e(c.state,c.store.state),function(e){c.state[a]=e,e?d():b()},c.state,c.store.state)}))})}}),Promise.all(d).then(function(){b&&b(!0)})["catch"](function(){b&&b(!1)})}}]),a}();return new m(a,b)}var V=/%[sdj%]/g,W=function(){};"undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&"undefined"!=typeof document&&(W=function(a,b){"undefined"!=typeof console&&console.warn&&b.every(function(a){return"string"==typeof a})&&console.warn(a,b)});var X=function(a){function b(b,c){var d;return d=a.call(this,"Async Validation Error")||this,d.errors=b,d.fields=c,d}return c(b,a),b}(j(Error)),Y={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(?!mailto:)(?:(?:http|https|ftp):\/\/|\/\/)(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:(\/|\?|#)[^\s]*)?$/i,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Z={integer:function(a){return Z.number(a)&&parseInt(a,10)===a},float:function(a){return Z.number(a)&&!Z.integer(a)},array:function(a){return Array.isArray(a)},regexp:function(a){if(a instanceof RegExp)return!0;try{return!!new RegExp(a)}catch(a){return!1}},date:function(a){return"function"==typeof a.getTime&&"function"==typeof a.getMonth&&"function"==typeof a.getYear&&!isNaN(a.getTime())},number:function(a){return!isNaN(a)&&"number"==typeof a},object:function(a){return"object"==typeof a&&!Z.array(a)},method:function(a){return"function"==typeof a},email:function(a){return"string"==typeof a&&!!a.match(Y.email)&&255>a.length},url:function(a){return"string"==typeof a&&!!a.match(Y.url)},hex:function(a){return"string"==typeof a&&!!a.match(Y.hex)}},$={required:u,whitespace:function(a,b,c,d,e){(/^\s+$/.test(b)||""===b)&&d.push(l(e.messages.whitespace,a.fullField))},type:function(a,b,c,d,e){if(a.required&&void 0===b)return void u(a,b,c,d,e);var f=a.type;-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(f)?!Z[f](b)&&d.push(l(e.messages.types[f],a.fullField,a.type)):f&&typeof b!==a.type&&d.push(l(e.messages.types[f],a.fullField,a.type))},range:function(a,b,c,d,e){var f="number"==typeof a.len,g="number"==typeof a.min,h="number"==typeof a.max,i=b,j=null,k="string"==typeof b,m=Array.isArray(b);return"number"==typeof b?j="number":k?j="string":m&&(j="array"),!!j&&void(m&&(i=b.length),k&&(i=b.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),f?i!==a.len&&d.push(l(e.messages[j].len,a.fullField,a.len)):g&&!h&&i<a.min?d.push(l(e.messages[j].min,a.fullField,a.min)):h&&!g&&i>a.max?d.push(l(e.messages[j].max,a.fullField,a.max)):g&&h&&(i<a.min||i>a.max)&&d.push(l(e.messages[j].range,a.fullField,a.min,a.max)))},enum:function(a,b,c,d,e){a["enum"]=Array.isArray(a["enum"])?a["enum"]:[],-1===a["enum"].indexOf(b)&&d.push(l(e.messages["enum"],a.fullField,a["enum"].join(", ")))},pattern:function(a,b,c,d,e){if(a.pattern)if(a.pattern instanceof RegExp)a.pattern.lastIndex=0,a.pattern.test(b)||d.push(l(e.messages.pattern.mismatch,a.fullField,b,a.pattern));else if("string"==typeof a.pattern){var f=new RegExp(a.pattern);f.test(b)||d.push(l(e.messages.pattern.mismatch,a.fullField,b,a.pattern))}}},_={string:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b,"string")&&!a.required)return c();$.required(a,b,d,f,e,"string"),n(b,"string")||($.type(a,b,d,f,e),$.range(a,b,d,f,e),$.pattern(a,b,d,f,e),!0===a.whitespace&&$.whitespace(a,b,d,f,e))}c(f)},method:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&$.type(a,b,d,f,e)}c(f)},number:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(""===b&&(b=void 0),n(b)&&!a.required)return c();$.required(a,b,d,f,e),void 0!==b&&($.type(a,b,d,f,e),$.range(a,b,d,f,e))}c(f)},boolean:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&$.type(a,b,d,f,e)}c(f)},regexp:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),n(b)||$.type(a,b,d,f,e)}c(f)},integer:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&($.type(a,b,d,f,e),$.range(a,b,d,f,e))}c(f)},float:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&($.type(a,b,d,f,e),$.range(a,b,d,f,e))}c(f)},array:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if((b===void 0||null===b)&&!a.required)return c();$.required(a,b,d,f,e,"array"),b!==void 0&&null!==b&&($.type(a,b,d,f,e),$.range(a,b,d,f,e))}c(f)},object:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&$.type(a,b,d,f,e)}c(f)},enum:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e),b!==void 0&&$["enum"](a,b,d,f,e)}c(f)},pattern:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b,"string")&&!a.required)return c();$.required(a,b,d,f,e),n(b,"string")||$.pattern(a,b,d,f,e)}c(f)},date:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b,"date")&&!a.required)return c();if($.required(a,b,d,f,e),!n(b,"date")){var h;h=b instanceof Date?b:new Date(b),$.type(a,h,d,f,e),h&&$.range(a,h.getTime(),d,f,e)}}c(f)},url:v,hex:v,email:v,required:function(a,b,c,d,e){var f=[],g=Array.isArray(b)?"array":typeof b;$.required(a,b,d,f,e,g),c(f)},any:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(n(b)&&!a.required)return c();$.required(a,b,d,f,e)}c(f)}},aa=w();x.prototype={messages:function(a){return a&&(this._messages=t(w(),a)),this._messages},define:function(a){if(!a)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof a||Array.isArray(a))throw new Error("Rules must be an object");this.rules={};var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b],this.rules[b]=Array.isArray(c)?c:[c])},validate:function(a,c,d){function e(a){function b(a){if(Array.isArray(a)){var b;d=(b=d).concat.apply(b,a)}else d.push(a)}var c,d=[],e={};for(c=0;c<a.length;c++)b(a[c]);d.length?e=k(d):(d=null,e=null),j(d,e)}var f=this;void 0===c&&(c={}),void 0===d&&(d=function(){});var g=a,h=c,j=d;if("function"==typeof h&&(j=h,h={}),!this.rules||0===Object.keys(this.rules).length)return j&&j(),Promise.resolve();if(h.messages){var m=this.messages();m===aa&&(m=w()),t(m,h.messages),h.messages=m}else h.messages=this.messages();var n,p,q={},u=h.keys||Object.keys(this.rules);u.forEach(function(c){n=f.rules[c],p=g[c],n.forEach(function(d){var e=d;"function"==typeof e.transform&&(g===a&&(g=b({},g)),p=g[c]=e.transform(p)),e="function"==typeof e?{validator:e}:b({},e),e.validator=f.getValidationMethod(e),e.field=c,e.fullField=e.fullField||c,e.type=f.getType(e),e.validator&&(q[c]=q[c]||[],q[c].push({rule:e,value:p,source:g,field:c}))})});var v={};return r(q,h,function(a,c){function d(a,c){return b({},c,{fullField:g.fullField+"."+a})}function f(j){void 0===j&&(j=[]);var m=j;if(Array.isArray(m)||(m=[m]),!h.suppressWarning&&m.length&&x.warning("async-validator:",m),m.length&&void 0!==g.message&&(m=[].concat(g.message)),m=m.map(s(g)),h.first&&m.length)return v[g.field]=1,c(m);if(!i)c(m);else{if(g.required&&!a.value)return void 0===g.message?h.error&&(m=[h.error(g,l(h.messages.required,g.field))]):m=[].concat(g.message).map(s(g)),c(m);var n={};if(g.defaultField)for(var o in a.value)a.value.hasOwnProperty(o)&&(n[o]=g.defaultField);for(var k in n=b({},n,a.rule.fields),n)if(n.hasOwnProperty(k)){var f=Array.isArray(n[k])?n[k]:[n[k]];n[k]=f.map(d.bind(null,k))}var p=new x(n);p.messages(h.messages),a.rule.options&&(a.rule.options.messages=h.messages,a.rule.options.error=h.error),p.validate(a.value,a.rule.options||h,function(a){var b=[];m&&m.length&&b.push.apply(b,m),a&&a.length&&b.push.apply(b,a),c(b.length?b:null)})}}var g=a.rule,i=("object"===g.type||"array"===g.type)&&("object"==typeof g.fields||"object"==typeof g.defaultField);i=i&&(g.required||!g.required&&a.value),g.field=a.field;var j;g.asyncValidator?j=g.asyncValidator(g,a.value,f,a.source,h):g.validator&&(j=g.validator(g,a.value,f,a.source,h),!0===j?f():!1===j?f(g.message||g.field+" fails"):j instanceof Array?f(j):j instanceof Error&&f(j.message)),j&&j.then&&j.then(function(){return f()},function(a){return f(a)})},function(a){e(a)})},getType:function(a){if(void 0===a.type&&a.pattern instanceof RegExp&&(a.type="pattern"),"function"!=typeof a.validator&&a.type&&!_.hasOwnProperty(a.type))throw new Error(l("Unknown rule type %s",a.type));return a.type||"string"},getValidationMethod:function(a){if("function"==typeof a.validator)return a.validator;var b=Object.keys(a),c=b.indexOf("message");return-1!==c&&b.splice(c,1),1===b.length&&"required"===b[0]?_.required:_[this.getType(a)]||!1}},x.register=function(a,b){if("function"!=typeof b)throw new Error("Cannot register a validator by type, validator is not a function");_[a]=b},x.warning=W,x.messages=aa,x.validators=_;var ba=null,ca=new WeakMap,da=function(){function a(b){H(this,a),this._initValue=b}return J(a,[{key:"load",value:function(a){return Q(this,{callBack:a,options:{isLoad:!0}}),this}},{key:"getter",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return Q(this,{getter:a,callBack:function(a,b,c){c(a)},options:F(F({},b),{},{isGetter:!0})}),this}},{key:"watch",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return Q(this,{getter:S(a),callBack:b,options:c}),this}},{key:"listen",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return Q(this,{callBack:a,options:b}),this}},{key:"validate",value:function(a,b,c){return Q(this,{getter:S(a),callBack:T(b),options:{immediate:!1,deep:!1,isValidation:!0,formName:c||"noFormName"}}),this}}],[{key:"init",value:function(b){return new a(b)}},{key:"srtLoad",value:function(b){return new a("").load(b)}},{key:"arrLoad",value:function(b){return new a([]).load(b)}},{key:"strGetter",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return new a("").getter(b,c)}},{key:"arrGetter",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return new a([]).getter(b,c)}},{key:"strWatch",value:function(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return new a("").watch(b,c,d)}},{key:"arrWatch",value:function(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return new a([]).watch(b,c,d)}},{key:"strListen",value:function(b){return new a("").listen(b)}},{key:"arrListen",value:function(b){return new a([]).listen(b)}},{key:"strValidate",value:function(b,c,d){return new a("").validate(b,c,d)}}]),a}();a.createModule=U,a.createVuexHero=function(a){ba=a},a.default=da,Object.defineProperty(a,"__esModule",{value:!0})});