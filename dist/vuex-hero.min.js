/*!
 * vuex-proxy v1.0.7
 * (c) 2021 Logan
 * @license MIT
 */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("assert")):"function"==typeof define&&define.amd?define(["exports","assert"],b):(a="undefined"==typeof globalThis?a||self:globalThis,b(a.VuexHero={},a.assert))})(this,function(a,b){'use strict';function c(a){return a&&"object"==typeof a&&"default"in a?a:{default:a}}function d(){return d=Object.assign||function(a){for(var b,c=arguments,d=1;d<arguments.length;d++)for(var e in b=c[d],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},d.apply(this,arguments)}function e(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,g(a,b)}function f(a){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},f(a)}function g(a,b){return g=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},g(a,b)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function j(){return j=i()?Reflect.construct:function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&g(f,d.prototype),f},j.apply(null,arguments)}function k(a){return-1!==Function.toString.call(a).indexOf("[native code]")}function l(a){var b="function"==typeof Map?new Map:void 0;return l=function(a){function c(){return j(a,arguments,f(this).constructor)}if(null===a||!k(a))return a;if("function"!=typeof a)throw new TypeError("Super expression must either be null or a function");if("undefined"!=typeof b){if(b.has(a))return b.get(a);b.set(a,c)}return c.prototype=Object.create(a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g(c,a)},l(a)}function m(a){if(!a||!a.length)return null;var b={};return a.forEach(function(a){var c=a.field;b[c]=b[c]||[],b[c].push(a)}),b}function n(){for(var a=arguments,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=a[d];var e=1,g=c[0],f=c.length;if("function"==typeof g)return g.apply(null,c.slice(1));if("string"==typeof g){var h=(g+"").replace(ba,function(a){if("%%"===a)return"%";if(e>=f)return a;switch(a){case"%s":return c[e++]+"";case"%d":return+c[e++];case"%j":try{return JSON.stringify(c[e++])}catch(a){return"[Circular]"}break;default:return a;}});return h}return g}function o(a){return"string"===a||"url"===a||"hex"===a||"email"===a||"date"===a||"pattern"===a}function p(a,b){return!(void 0!==a&&null!==a)||!("array"!==b||!Array.isArray(a)||a.length)||!(!o(b)||"string"!=typeof a||a)}function q(a,b,c){function d(a){e.push.apply(e,a),f++,f===g&&c(e)}var e=[],f=0,g=a.length;a.forEach(function(c){b(c,d)})}function r(a,b,c){function d(g){if(g&&g.length)return void c(g);var h=e;++e,h<f?b(a[h],d):c([])}var e=0,f=a.length;d([])}function s(a){var b=[];return Object.keys(a).forEach(function(c){b.push.apply(b,a[c])}),b}function t(a,b,c,d){if(b.first){var e=new Promise(function(b,e){var f=s(a);r(f,c,function(a){return d(a),a.length?e(new da(a,m(a))):b()})});return e["catch"](function(a){return a}),e}var f=b.firstFields||[];!0===f&&(f=Object.keys(a));var g=Object.keys(a),h=g.length,i=0,j=[],k=new Promise(function(b,e){var k=function(a){if(j.push.apply(j,a),i++,i===h)return d(j),j.length?e(new da(j,m(j))):b()};g.length||(d(j),b()),g.forEach(function(b){var d=a[b];-1===f.indexOf(b)?q(d,c,k):r(d,c,k)})});return k["catch"](function(a){return a}),k}function u(a){return function(b){return b&&b.message?(b.field=b.field||a.fullField,b):{message:"function"==typeof b?b():b,field:b.field||a.fullField}}}function v(a,b){if(b)for(var c in b)if(b.hasOwnProperty(c)){var e=b[c];a[c]="object"==typeof e&&"object"==typeof a[c]?d({},a[c],e):e}return a}function w(a,b,c,d,e,f){a.required&&(!c.hasOwnProperty(a.field)||p(b,f||a.type))&&d.push(n(e.messages.required,a.fullField))}function x(a,b,c,d,e){var f=a.type,g=[],h=a.required||!a.required&&d.hasOwnProperty(a.field);if(h){if(p(b,f)&&!a.required)return c();ga.required(a,b,d,g,e,f),p(b,f)||ga.type(a,b,d,g,e)}c(g)}function y(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var a=JSON.parse(JSON.stringify(this));return a.clone=this.clone,a}}}function z(a){this.rules=null,this._messages=ia,this.define(a)}function A(a){return E(a)||D(a)||C(a)||B()}function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(a,b){if(a){if("string"==typeof a)return F(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?F(a,b):void 0}}function D(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function E(a){if(Array.isArray(a))return F(a)}function F(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function G(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function H(a){for(var b,c=arguments,d=1;d<arguments.length;d++)b=null==c[d]?{}:c[d],d%2?G(Object(b),!0).forEach(function(c){L(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):G(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function I(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function J(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function K(a,b,c){return b&&J(a.prototype,b),c&&J(a,c),a}function L(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function M(a,b,c){var d=P(a,b,"set");return N(a,d,c),c}function N(a,b,c){if(b.set)b.set.call(a,c);else{if(!b.writable)throw new TypeError("attempted to set read only private field");b.value=c}}function O(a,b){var c=P(a,b,"get");return Q(a,c)}function P(a,b,c){if(!b.has(a))throw new TypeError("attempted to "+c+" private field on non-instance");return b.get(a)}function Q(a,b){return b.get?b.get.call(a):b.value}function R(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}function S(a){"@babel/helpers - typeof";return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},S(a)}function T(a,b){var c=U(a);c.push(b),ka.set(a,c)}function U(a){return ka.has(a)?ka.get(a):[]}function V(a){if("string"==typeof a)return a.includes(".")?function(b,c){return a.split(".").reduce(function(a,b){return a[b]},c)}:function(b){return b[a]};if(Array.isArray(a)){var b=a.map(function(a){return V(a)});return function(a,c){return b.map(function(b){return b(a,c)})}}return a}function W(a){if("function"==typeof a)return a;return function(b){var c=b.value,d=b.setState;new z({value:a}).validate({value:c},{suppressWarning:!0},function(a){var b="";a&&(b=a[0].message),d(b)})}}function X(a){aa["default"]("function"==typeof a,"callback must be a function")}function Y(a){aa["default"]("function"==typeof a,"getter must be a function")}function Z(a,b){if(!b&&Array.isArray(a))a.forEach(function(a){Z(a,!0)});else{var c=S(a);aa["default"]("function"===c||"string"===c,"expOrFn must be a string or function or array")}}function $(a){var b=S(a);aa["default"]("function"===b||"object"===b,"expOrFn must be a object or function")}function _(a,b){function c(a,b){M(this,f,""),M(this,g,{}),M(this,h,{}),M(this,i,[]),M(this,j,{}),M(this,k,[]),this.state={},M(this,f,Array.isArray(a)?a:a.split(".")),R(this,m,d).call(this,b)}function d(a){var b=this,c=a.state;Object.keys(c).forEach(function(a){c[a]instanceof la?(b.state[a]=c[a]._initValue,O(b,j)[a]=U(c[a])):b.state[a]=c[a]}),M(this,h,H(H({},a),{},{state:this.state,modules:void 0}));var d=a.modules||{};Object.keys(d).forEach(function(a){var c=new o([].concat(A(O(b,f)),[a]),d[a]);O(b,k).push(c),b[a]=c,d[a].state=c.state})}function e(){var a=this;setTimeout(function(){Object.keys(O(a,j)).forEach(function(b){var c=function(c){a.state[b]=c},d=a.store.state;O(a,j)[b].forEach(function(e){var f=e.getter,h=void 0===f?function(a){return a[b]}:f,j=e.callBack,k=e.options;if(k.isLoad)return void j({state:a.state,rootState:d,setState:c});k.isValidation&&(!O(a,g)[k.formName]&&(O(a,g)[k.formName]={}),O(a,g)[k.formName][b]={getter:h,callBack:j});var l=!1,m=function a(){l=!0,n?n():setTimeout(function(){a()},0)},n=a.store.watch(function(){return h(a.state,d)},function(b,e){l||j({value:b,oldVal:e,setState:c,state:a.state,rootState:d,unwatch:m})},k);O(a,i).push(n)})})},0)}if(!ja)throw new Error("please call 'createVuexHero' first");var f=new WeakMap,g=new WeakMap,h=new WeakMap,i=new WeakMap,j=new WeakMap,k=new WeakMap,l=new WeakSet,m=new WeakSet,n=new WeakSet,o=function(){function a(b,d){I(this,a),n.add(this),m.add(this),l.add(this),f.set(this,{writable:!0,value:""}),g.set(this,{writable:!0,value:{}}),h.set(this,{writable:!0,value:{}}),i.set(this,{writable:!0,value:[]}),j.set(this,{writable:!0,value:{}}),k.set(this,{writable:!0,value:[]}),L(this,"state",{}),R(this,l,c).call(this,b,d),this.unregisterModule=function(){return this.store.hasModule(O(this,f))&&(O(this,k).forEach(function(a){return a.unregisterModule()}),O(this,i).forEach(function(a){a()}),this.store.unregisterModule(O(this,f))),R(this,l,c).call(this,b,d),this}}return K(a,[{key:"store",get:function(){return ja}},{key:"registerModule",value:function(a){var b=this,c=function(){b.store.registerModule(O(b,f),O(b,h)),R(b,n,e).call(b),O(b,k).forEach(function(b){return b.registerModule(a)})};return a?(this.unregisterModule(),c()):!this.store.hasModule(O(this,f))&&c(),this}},{key:"validate",value:function(a,b){var c=this;"function"==typeof a&&(b=a,a=null);var d=[];Object.keys(O(this,g)).forEach(function(b){if(!(a&&b!==a)){var e=O(c,g)[b];Object.keys(e).forEach(function(a){var b=e[a],f=b.getter,g=b.callBack;d.push(new Promise(function(b,d){g({value:f(c.state,c.store.state),setState:function(e){c.state[a]=e,e?d():b()},state:c.state,rootState:c.store.state})}))})}}),Promise.all(d).then(function(){b&&b(!0)})["catch"](function(){b&&b(!1)})}}]),a}();return new o(a,b)}var aa=c(b),ba=/%[sdj%]/g,ca=function(){};"undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof window&&"undefined"!=typeof document&&(ca=function(a,b){"undefined"!=typeof console&&console.warn&&b.every(function(a){return"string"==typeof a})&&console.warn(a,b)});var da=function(a){function b(b,c){var d;return d=a.call(this,"Async Validation Error")||this,d.errors=b,d.fields=c,d}return e(b,a),b}(l(Error)),ea={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:/^(?!mailto:)(?:(?:http|https|ftp):\/\/|\/\/)(?:\S+(?::\S*)?@)?(?:(?:(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[0-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))|localhost)(?::\d{2,5})?(?:(\/|\?|#)[^\s]*)?$/i,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},fa={integer:function(a){return fa.number(a)&&parseInt(a,10)===a},float:function(a){return fa.number(a)&&!fa.integer(a)},array:function(a){return Array.isArray(a)},regexp:function(a){if(a instanceof RegExp)return!0;try{return!!new RegExp(a)}catch(a){return!1}},date:function(a){return"function"==typeof a.getTime&&"function"==typeof a.getMonth&&"function"==typeof a.getYear&&!isNaN(a.getTime())},number:function(a){return!isNaN(a)&&"number"==typeof a},object:function(a){return"object"==typeof a&&!fa.array(a)},method:function(a){return"function"==typeof a},email:function(a){return"string"==typeof a&&!!a.match(ea.email)&&255>a.length},url:function(a){return"string"==typeof a&&!!a.match(ea.url)},hex:function(a){return"string"==typeof a&&!!a.match(ea.hex)}},ga={required:w,whitespace:function(a,b,c,d,e){(/^\s+$/.test(b)||""===b)&&d.push(n(e.messages.whitespace,a.fullField))},type:function(a,b,c,d,e){if(a.required&&void 0===b)return void w(a,b,c,d,e);var f=a.type;-1<["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(f)?!fa[f](b)&&d.push(n(e.messages.types[f],a.fullField,a.type)):f&&typeof b!==a.type&&d.push(n(e.messages.types[f],a.fullField,a.type))},range:function(a,b,c,d,e){var f="number"==typeof a.len,g="number"==typeof a.min,h="number"==typeof a.max,i=b,j=null,k="string"==typeof b,l=Array.isArray(b);return"number"==typeof b?j="number":k?j="string":l&&(j="array"),!!j&&void(l&&(i=b.length),k&&(i=b.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),f?i!==a.len&&d.push(n(e.messages[j].len,a.fullField,a.len)):g&&!h&&i<a.min?d.push(n(e.messages[j].min,a.fullField,a.min)):h&&!g&&i>a.max?d.push(n(e.messages[j].max,a.fullField,a.max)):g&&h&&(i<a.min||i>a.max)&&d.push(n(e.messages[j].range,a.fullField,a.min,a.max)))},enum:function(a,b,c,d,e){a["enum"]=Array.isArray(a["enum"])?a["enum"]:[],-1===a["enum"].indexOf(b)&&d.push(n(e.messages["enum"],a.fullField,a["enum"].join(", ")))},pattern:function(a,b,c,d,e){if(a.pattern)if(a.pattern instanceof RegExp)a.pattern.lastIndex=0,a.pattern.test(b)||d.push(n(e.messages.pattern.mismatch,a.fullField,b,a.pattern));else if("string"==typeof a.pattern){var f=new RegExp(a.pattern);f.test(b)||d.push(n(e.messages.pattern.mismatch,a.fullField,b,a.pattern))}}},ha={string:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b,"string")&&!a.required)return c();ga.required(a,b,d,f,e,"string"),p(b,"string")||(ga.type(a,b,d,f,e),ga.range(a,b,d,f,e),ga.pattern(a,b,d,f,e),!0===a.whitespace&&ga.whitespace(a,b,d,f,e))}c(f)},method:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&ga.type(a,b,d,f,e)}c(f)},number:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(""===b&&(b=void 0),p(b)&&!a.required)return c();ga.required(a,b,d,f,e),void 0!==b&&(ga.type(a,b,d,f,e),ga.range(a,b,d,f,e))}c(f)},boolean:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&ga.type(a,b,d,f,e)}c(f)},regexp:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),p(b)||ga.type(a,b,d,f,e)}c(f)},integer:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&(ga.type(a,b,d,f,e),ga.range(a,b,d,f,e))}c(f)},float:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&(ga.type(a,b,d,f,e),ga.range(a,b,d,f,e))}c(f)},array:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if((b===void 0||null===b)&&!a.required)return c();ga.required(a,b,d,f,e,"array"),b!==void 0&&null!==b&&(ga.type(a,b,d,f,e),ga.range(a,b,d,f,e))}c(f)},object:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&ga.type(a,b,d,f,e)}c(f)},enum:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e),b!==void 0&&ga["enum"](a,b,d,f,e)}c(f)},pattern:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b,"string")&&!a.required)return c();ga.required(a,b,d,f,e),p(b,"string")||ga.pattern(a,b,d,f,e)}c(f)},date:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b,"date")&&!a.required)return c();if(ga.required(a,b,d,f,e),!p(b,"date")){var h;h=b instanceof Date?b:new Date(b),ga.type(a,h,d,f,e),h&&ga.range(a,h.getTime(),d,f,e)}}c(f)},url:x,hex:x,email:x,required:function(a,b,c,d,e){var f=[],g=Array.isArray(b)?"array":typeof b;ga.required(a,b,d,f,e,g),c(f)},any:function(a,b,c,d,e){var f=[],g=a.required||!a.required&&d.hasOwnProperty(a.field);if(g){if(p(b)&&!a.required)return c();ga.required(a,b,d,f,e)}c(f)}},ia=y();z.prototype={messages:function(a){return a&&(this._messages=v(y(),a)),this._messages},define:function(a){if(!a)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof a||Array.isArray(a))throw new Error("Rules must be an object");this.rules={};var b,c;for(b in a)a.hasOwnProperty(b)&&(c=a[b],this.rules[b]=Array.isArray(c)?c:[c])},validate:function(a,b,c){function e(a){function b(a){if(Array.isArray(a)){var b;d=(b=d).concat.apply(b,a)}else d.push(a)}var c,d=[],e={};for(c=0;c<a.length;c++)b(a[c]);d.length?e=m(d):(d=null,e=null),j(d,e)}var f=this;void 0===b&&(b={}),void 0===c&&(c=function(){});var g=a,h=b,j=c;if("function"==typeof h&&(j=h,h={}),!this.rules||0===Object.keys(this.rules).length)return j&&j(),Promise.resolve();if(h.messages){var k=this.messages();k===ia&&(k=y()),v(k,h.messages),h.messages=k}else h.messages=this.messages();var l,p,q={},r=h.keys||Object.keys(this.rules);r.forEach(function(b){l=f.rules[b],p=g[b],l.forEach(function(c){var e=c;"function"==typeof e.transform&&(g===a&&(g=d({},g)),p=g[b]=e.transform(p)),e="function"==typeof e?{validator:e}:d({},e),e.validator=f.getValidationMethod(e),e.field=b,e.fullField=e.fullField||b,e.type=f.getType(e),e.validator&&(q[b]=q[b]||[],q[b].push({rule:e,value:p,source:g,field:b}))})});var s={};return t(q,h,function(a,b){function c(a,b){return d({},b,{fullField:g.fullField+"."+a})}function f(j){void 0===j&&(j=[]);var l=j;if(Array.isArray(l)||(l=[l]),!h.suppressWarning&&l.length&&z.warning("async-validator:",l),l.length&&void 0!==g.message&&(l=[].concat(g.message)),l=l.map(u(g)),h.first&&l.length)return s[g.field]=1,b(l);if(!i)b(l);else{if(g.required&&!a.value)return void 0===g.message?h.error&&(l=[h.error(g,n(h.messages.required,g.field))]):l=[].concat(g.message).map(u(g)),b(l);var m={};if(g.defaultField)for(var o in a.value)a.value.hasOwnProperty(o)&&(m[o]=g.defaultField);for(var k in m=d({},m,a.rule.fields),m)if(m.hasOwnProperty(k)){var f=Array.isArray(m[k])?m[k]:[m[k]];m[k]=f.map(c.bind(null,k))}var p=new z(m);p.messages(h.messages),a.rule.options&&(a.rule.options.messages=h.messages,a.rule.options.error=h.error),p.validate(a.value,a.rule.options||h,function(a){var c=[];l&&l.length&&c.push.apply(c,l),a&&a.length&&c.push.apply(c,a),b(c.length?c:null)})}}var g=a.rule,i=("object"===g.type||"array"===g.type)&&("object"==typeof g.fields||"object"==typeof g.defaultField);i=i&&(g.required||!g.required&&a.value),g.field=a.field;var j;g.asyncValidator?j=g.asyncValidator(g,a.value,f,a.source,h):g.validator&&(j=g.validator(g,a.value,f,a.source,h),!0===j?f():!1===j?f(g.message||g.field+" fails"):j instanceof Array?f(j):j instanceof Error&&f(j.message)),j&&j.then&&j.then(function(){return f()},function(a){return f(a)})},function(a){e(a)})},getType:function(a){if(void 0===a.type&&a.pattern instanceof RegExp&&(a.type="pattern"),"function"!=typeof a.validator&&a.type&&!ha.hasOwnProperty(a.type))throw new Error(n("Unknown rule type %s",a.type));return a.type||"string"},getValidationMethod:function(a){if("function"==typeof a.validator)return a.validator;var b=Object.keys(a),c=b.indexOf("message");return-1!==c&&b.splice(c,1),1===b.length&&"required"===b[0]?ha.required:ha[this.getType(a)]||!1}},z.register=function(a,b){if("function"!=typeof b)throw new Error("Cannot register a validator by type, validator is not a function");ha[a]=b},z.warning=ca,z.messages=ia,z.validators=ha;var ja=null,ka=new WeakMap,la=function(){function a(b){I(this,a),aa["default"](void 0!==b,"initValue can't be undefined"),this._initValue=b}return K(a,[{key:"load",value:function(a){return X(a),T(this,{callBack:a,options:{isLoad:!0}}),this}},{key:"getter",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return Y(a),T(this,{getter:a,callBack:function(a){var b=a.value,c=a.setState;c(b)},options:H(H({},b),{},{isGetter:!0})}),this}},{key:"watch",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return Z(a),X(b),T(this,{getter:V(a),callBack:b,options:c}),this}},{key:"watchSelf",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return X(a),T(this,{callBack:a,options:b}),this}},{key:"validate",value:function(a,b,c){return Z(a),$(b),T(this,{getter:V(a),callBack:W(b),options:{immediate:!1,deep:!1,isValidation:!0,formName:c||"noFormName"}}),this}}],[{key:"init",value:function(b){return aa["default"](void 0!==b,"initValue can't be undefined"),new a(b)}},{key:"strLoad",value:function(b){return X(b),new a("").load(b)}},{key:"arrLoad",value:function(b){return X(b),new a([]).load(b)}},{key:"strGetter",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return Y(b),new a("").getter(b,c)}},{key:"arrGetter",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{immediate:!0,deep:!1};return Y(b),new a([]).getter(b,c)}},{key:"strWatch",value:function(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return Z(b),X(c),new a("").watch(b,c,d)}},{key:"arrWatch",value:function(b,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{immediate:!0,deep:!1};return Z(b),X(c),new a([]).watch(b,c,d)}},{key:"strWatchSelf",value:function(b){return X(b),new a("").watchSelf(b)}},{key:"arrWatchSelf",value:function(b){return X(b),new a([]).watchSelf(b)}},{key:"strValidate",value:function(b,c,d){return Z(b),$(c),new a("").validate(b,c,d)}}]),a}();a.createModule=_,a.createVuexHero=function(a){ja=a},a.default=la,Object.defineProperty(a,"__esModule",{value:!0})});